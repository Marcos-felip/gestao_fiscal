<form action="{% url 'account_login' %}" method="post" autocomplete="off" novalidate>
	{% csrf_token %}
	{% for field in form %}
		{% if field.name == 'remember' %}
			<div class="mb-2">
				<label class="form-check">
					<input type="checkbox" class="form-check-input" name="{{ field.name }}" id="{{ field.id_for_label }}">
					<span class="form-check-label">{{ field.label }}</span>
				</label>
			</div>
		{% else %}
			<div class="mb-3">
				<label class="form-label">
					{{ field.label }}
					{% if field.name == 'password' %}
						<span class="form-label-description">
							<a href="{% url 'account_reset_password' %}">Esqueci minha senha</a>
						</span>
					{% endif %}
				</label>
				{% if field.name == 'password' %}
					<div class="input-group input-group-flat">
						<input type="password" class="form-control" placeholder="Sua senha" name="{{ field.name }}" autocomplete="current-password" id="password-input">
						<span class="input-group-text">
							<a href="#" class="link-secondary" title="Mostrar senha" data-bs-toggle="tooltip" id="toggle-password">
								<i class="ti ti-eye" style="font-size: 1.2rem;"></i>
							</a>
						</span>
					</div>
				{% else %}
					<input type="email" class="form-control" placeholder="seu@email.com" name="{{ field.name }}" autocomplete="username">
				{% endif %}
				{% if field.errors %}
					<div class="invalid-feedback d-block">
						{{ field.errors.0 }}
					</div>
				{% endif %}
				{% if field.name == 'login' %}
					<div class="form-hint">
						Insira seu endere√ßo de e-mail
					</div>
				{% endif %}
			</div>
		{% endif %}
	{% endfor %}

	<div class="form-footer">
		{% include "ui/button.html" with type="submit" block=True text="Entrar" color="primary" %}
	</div>
</form>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		const togglePassword = document.querySelector('#toggle-password');
		const passwordField = document.querySelector('#password-input');

		togglePassword.addEventListener('click', function(e) {
			e.preventDefault();
			const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
			passwordField.setAttribute('type', type);
			this.querySelector('i').classList.toggle('ti-eye');
			this.querySelector('i').classList.toggle('ti-eye-off');
		});
	});
</script>