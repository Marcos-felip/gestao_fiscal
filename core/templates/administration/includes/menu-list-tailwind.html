{% load static %}

<nav class="space-y-1">
    <!-- Dashboard -->
    <a 
        href="{% url 'configuration:home' %}" 
        class="flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-colors {% if request.path == '/' or 'home' in request.path %}bg-primary text-primary-foreground{% else %}text-muted-foreground hover:bg-accent hover:text-accent-foreground{% endif %}"
    >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
            <path d="M5 12l-2 0l9 -9l9 9l-2 0" />
            <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
            <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
        </svg>
        Dashboard
    </a>
    
    <!-- Cadastros - Collapsible Menu -->
    <div x-data="{ open: {% if 'partners' in request.path or 'customers' in request.path or 'suppliers' in request.path or 'categories' in request.path or 'units' in request.path or 'products' in request.path %}true{% else %}false{% endif %} }">
        <button 
            @click="open = !open"
            class="flex w-full items-center justify-between gap-3 rounded-lg px-3 py-2 text-sm transition-colors {% if 'customers' in request.path or 'partners' in request.path or 'suppliers' in request.path or 'categories' in request.path or 'units' in request.path or 'products' in request.path %}bg-accent text-accent-foreground{% else %}text-muted-foreground hover:bg-accent hover:text-accent-foreground{% endif %}"
        >
            <div class="flex items-center gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                    <path d="M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" />
                    <path d="M4.012 16.737a2 2 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" />
                    <path d="M11 14h6" />
                    <path d="M14 11v6" />
                </svg>
                Cadastros
            </div>
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                class="h-4 w-4 transition-transform duration-200" 
                :class="{ 'rotate-180': open }"
                viewBox="0 0 24 24" 
                stroke-width="2" 
                stroke="currentColor" 
                fill="none"
            >
                <path d="M6 9l6 6l6 -6" />
            </svg>
        </button>
        
        <!-- Submenu -->
        <div 
            x-show="open" 
            x-transition:enter="transition ease-out duration-100"
            x-transition:enter-start="opacity-0 -translate-y-1"
            x-transition:enter-end="opacity-100 translate-y-0"
            x-transition:leave="transition ease-in duration-75"
            x-transition:leave-start="opacity-100 translate-y-0"
            x-transition:leave-end="opacity-0 -translate-y-1"
            class="mt-1 ml-4 space-y-1 border-l border-border pl-4"
        >
            <a 
                href="{% url 'partners:customer_list' %}" 
                class="block rounded-lg px-3 py-2 text-sm transition-colors {% if 'customers' in request.path %}bg-primary text-primary-foreground{% else %}text-muted-foreground hover:bg-accent hover:text-accent-foreground{% endif %}"
            >
                Clientes
            </a>
            <a 
                href="{% url 'partners:supplier_list' %}" 
                class="block rounded-lg px-3 py-2 text-sm transition-colors {% if 'suppliers' in request.path %}bg-primary text-primary-foreground{% else %}text-muted-foreground hover:bg-accent hover:text-accent-foreground{% endif %}"
            >
                Fornecedores
            </a>
            <a 
                href="{% url 'inventory:product_list' %}" 
                class="block rounded-lg px-3 py-2 text-sm transition-colors {% if 'products' in request.path %}bg-primary text-primary-foreground{% else %}text-muted-foreground hover:bg-accent hover:text-accent-foreground{% endif %}"
            >
                Produtos
            </a>
            <a 
                href="{% url 'inventory:category_list' %}" 
                class="block rounded-lg px-3 py-2 text-sm transition-colors {% if 'categories' in request.path %}bg-primary text-primary-foreground{% else %}text-muted-foreground hover:bg-accent hover:text-accent-foreground{% endif %}"
            >
                Categoria de Produtos
            </a>
            <a 
                href="{% url 'inventory:unit_list' %}" 
                class="block rounded-lg px-3 py-2 text-sm transition-colors {% if 'units' in request.path %}bg-primary text-primary-foreground{% else %}text-muted-foreground hover:bg-accent hover:text-accent-foreground{% endif %}"
            >
                Unidades de Medida
            </a>
        </div>
    </div>
</nav>
