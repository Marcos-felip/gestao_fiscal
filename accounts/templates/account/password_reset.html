{% extends 'account/layouts/base.html' %}
{% load static %}

{% block title %}Recuperar Senha - Gestão Fiscal{% endblock title %}

{% block content %}
<div class="flex min-h-screen items-center justify-center px-4 py-12">
    <div class="w-full max-w-md space-y-6">
        <!-- Logo -->
        <div class="flex justify-center">
            <a href="/">
                <img src="{% static 'images/logo.png' %}" alt="logo" class="h-12 w-auto">
            </a>
        </div>
        
        <!-- Card de Recuperação -->
        <c-card>
            <c-card.header class="text-center">
                <c-card.title class="text-2xl">Esqueci minha senha</c-card.title>
                <c-card.description>Digite seu endereço de e-mail e enviaremos instruções para redefinir sua senha.</c-card.description>
            </c-card.header>
            <c-card.content>
                <form action="{% url 'account_reset_password' %}" method="post" autocomplete="off" novalidate class="space-y-4">
                    {% csrf_token %}
                    
                    {% for field in form %}
                        <div class="space-y-2">
                            <label for="{{ field.id_for_label }}" class="text-sm font-medium leading-none">
                                {{ field.label }}
                            </label>
                            <c-input 
                                type="email"
                                id="{{ field.id_for_label }}"
                                name="{{ field.name }}"
                                placeholder="Digite seu e-mail"
                                autocomplete="username"
                            />
                            {% if field.errors %}
                            <p class="text-sm text-destructive">{{ field.errors.0 }}</p>
                            {% endif %}
                            <p class="text-xs text-muted-foreground">Insira o e-mail associado à sua conta</p>
                        </div>
                    {% endfor %}
                    
                    <c-button type="submit" class="w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" />
                            <path d="M3 7l9 6l9 -6" />
                        </svg>
                        Enviar instruções
                    </c-button>
                </form>
            </c-card.content>
        </c-card>
        
        <!-- Link de volta ao login -->
        <p class="text-center text-sm text-muted-foreground">
            Lembrou sua senha? 
            <a href="{% url 'account_login' %}" class="text-primary hover:underline">
                Voltar ao login
            </a>
        </p>
    </div>
</div>
{% endblock content %}
