{% extends "administration/base.html" %}

{% load static %}

{% block title %}Unidades - Gestão Fiscal{% endblock title %}

{% block titlebody %}
<div class="flex items-center px-6 py-4">
    <h2 class="text-2xl font-semibold tracking-tight">Unidades de Medida</h2>
</div>
{% endblock titlebody %}

{% block content %}
<div class="px-6 pb-6">
    <!-- Filtros -->
    <c-card class="mb-4">
        <c-card.content class="pt-6">
            <form 
                class="flex flex-wrap gap-4 items-center"
                hx-get="{% url 'inventory:unit_list' %}" 
                hx-target="#units-table-container" 
                hx-trigger="change from:.filter-control, submit" 
                hx-swap="innerHTML"
                hx-push-url="true"
            >
                <div class="relative flex-grow min-w-[200px]">
                    <svg xmlns="http://www.w3.org/2000/svg" class="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
                        <path d="M21 21l-6 -6" />
                    </svg>
                    <c-input 
                        type="text" 
                        class="filter-control pl-10" 
                        placeholder="Buscar por nome ou abreviação" 
                        name="search" 
                        value="{{ current_search }}"
                    />
                </div>

                <c-button type="submit" variant="default">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
                        <path d="M21 21l-6 -6" />
                    </svg>
                    Buscar
                </c-button>
            </form>
        </c-card.content>
    </c-card>

    <div id="units-table-container">
        {% include "unit/partials/unit_table.html" %}
    </div>
</div>
{% endblock content %}
